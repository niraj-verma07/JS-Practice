<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Api Request</title>
</head>
<body>
    

    <script>
        let url = "https://catfact.ninja/fact";
        // fetch(url)
        // .then((res)=>{
        //     // console.log(res);
        //     // console.log(res.json());
        //     // res.json().then((data)=>{
        //     //     console.log(data);
        //     // })

        //     // Refactoring code 

        //     return res.json();
        // })
        // .then((data)=>{
        //     // console.log(data);
        //     console.log("Data1 = " + data.fact);
        //     return fetch(url); //Requsting another request after completing old request
        // })
        // .then((res)=>{
        //     return res.json(); // catching and converting into json format for reading
        // })
        // .then((data2)=>{
        //     console.log("Data2 = " + data2.fact);
        // })
        // .catch((err)=>{
        //     console.log(err);
        // })

        // using async function

        async function  getFacts() {
           try{
            let res = await fetch(url);
           let data = await res.json();
        //    console.log(data);
           console.log("Fact1 : " + data.fact);

           //Second Response

           let res2 = await fetch(url);
           let data2 = await res2.json();
        //    console.log(data2);
           console.log("Fact2 : " + data2.fact);
           }catch(err){
            console.log("Error : " + err);
           }
        };

        getFacts();

    </script>
</body>
</html>